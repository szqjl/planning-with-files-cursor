# .cursorrules 测试指南

## 🎯 测试目标

验证 `.cursorrules` 文件是否被 Cursor IDE 正确读取和应用，规划工作流是否能自动触发。

## 📋 测试方案

### 测试 1: 基础验证 - 检查文件是否被识别

#### 步骤
1. 在 Cursor 中打开项目
2. 检查 Cursor 是否识别 `.cursorrules` 文件
3. 查看 Cursor 设置中是否有相关规则显示

#### 验证方法
- 在 Cursor 中，`.cursorrules` 文件应该被识别
- 可以在 Cursor 的 AI 设置中查看是否加载了规则

### 测试 2: 自动触发测试 - 复杂任务

#### 测试场景
创建一个符合自动触发条件的任务，验证工作流是否自动激活。

#### 测试步骤

1. **在 Cursor 中新建一个测试任务**
   ```
   请帮我研究 TypeScript 的优势，并写一份总结文档
   ```

2. **观察 Cursor 的行为**
   - 是否自动创建 `task_plan.md`？
   - 是否自动创建 `notes.md`？
   - 是否按照阶段执行任务？

3. **验证文件内容**
   - 检查 `task_plan.md` 是否符合模板结构
   - 检查 `notes.md` 是否用于存储研究内容
   - 检查是否创建了最终交付物

#### 预期结果
- ✅ 自动创建 `task_plan.md` 和 `notes.md`
- ✅ 按照 3-File Pattern 执行
- ✅ 更新进度复选框
- ✅ 在决策前重新读取计划文件

### 测试 3: 手动触发测试 - 明确要求

#### 测试场景
明确要求使用规划工作流，验证是否能正确响应。

#### 测试步骤

1. **明确要求使用工作流**
   ```
   使用规划工作流来设计一个待办事项应用
   ```

2. **验证响应**
   - 是否理解"规划工作流"的含义？
   - 是否创建了规划文件？
   - 是否按照工作流执行？

#### 预期结果
- ✅ 理解规划工作流概念
- ✅ 创建规划文件
- ✅ 按阶段执行

### 测试 4: 简单任务测试 - 不应触发

#### 测试场景
验证简单任务不会触发规划工作流。

#### 测试步骤

1. **执行简单任务**
   ```
   帮我修改这个文件的第 10 行
   ```

2. **验证行为**
   - 是否创建了规划文件？
   - 是否直接执行任务？

#### 预期结果
- ✅ 不创建规划文件
- ✅ 直接执行简单任务

### 测试 5: 关键词触发测试

#### 测试场景
测试各种触发关键词是否能激活工作流。

#### 测试关键词
- "规划"
- "组织"
- "跟踪进度"
- "工作流"
- "多步骤"
- "研究"

#### 测试步骤
对每个关键词，执行一个包含该关键词的任务，观察是否触发工作流。

## 🔍 详细测试步骤

### 准备阶段

1. **确保 `.cursorrules` 文件存在**
   ```bash
   # 检查文件
   ls -la .cursorrules
   # 或 Windows
   dir .cursorrules
   ```

2. **验证文件内容**
   - 文件应该包含规划工作流的规则
   - 文件格式应该是 Markdown

3. **重启 Cursor IDE**
   - 关闭 Cursor
   - 重新打开项目
   - 确保规则被加载

### 执行测试

#### 测试 A: 完整工作流测试

**任务**: "研究 React Hooks 的最佳实践，并写一份指南"

**预期行为**:
1. 创建 `task_plan.md`，包含：
   - 项目目标
   - 项目阶段（Phase 1, Phase 2, ...）
   - 当前状态
2. 创建 `notes.md`，用于：
   - 存储研究内容
   - 记录发现
3. 按阶段执行：
   - Phase 1: 创建计划 ✅
   - Phase 2: 研究和收集资料
   - Phase 3: 综合发现
   - Phase 4: 交付指南
4. 更新进度复选框
5. 创建最终交付物

**验证点**:
- [ ] `task_plan.md` 是否创建？
- [ ] `notes.md` 是否创建？
- [ ] 是否按阶段执行？
- [ ] 是否更新复选框？
- [ ] 是否创建交付物？
- [ ] 是否在决策前重新读取计划？

#### 测试 B: 注意力操作测试

**验证**: Cursor 是否在重要决策前重新读取 `task_plan.md`

**方法**:
1. 创建一个多阶段任务
2. 在任务执行过程中，观察 Cursor 的行为
3. 检查是否在关键决策点读取了计划文件

**预期**: 在做出重要决策前，Cursor 应该读取 `task_plan.md` 以保持目标清晰

#### 测试 C: 错误持久化测试

**验证**: 问题和解决方案是否记录到 `notes.md`

**方法**:
1. 创建一个可能遇到问题的任务
2. 观察遇到错误时的行为
3. 检查 `notes.md` 是否记录了问题和解决方案

**预期**: 所有问题和解决方案都应该记录到 `notes.md`

## 📊 测试检查清单

### 基础功能
- [ ] `.cursorrules` 文件被 Cursor 识别
- [ ] 规则内容被正确加载
- [ ] 自动触发机制工作正常

### 工作流功能
- [ ] 自动创建 `task_plan.md`
- [ ] 自动创建 `notes.md`
- [ ] 按阶段执行任务
- [ ] 更新进度复选框
- [ ] 创建最终交付物

### Manus 原则
- [ ] 文件系统作为内存（存储在文件中）
- [ ] 注意力操作（重新读取计划）
- [ ] 错误持久化（记录问题）
- [ ] 目标跟踪（复选框）
- [ ] 仅追加上下文（不修改历史）

### 边界情况
- [ ] 简单任务不触发工作流
- [ ] 复杂任务正确触发
- [ ] 关键词正确识别

## 🐛 常见问题排查

### 问题 1: `.cursorrules` 不被识别

**可能原因**:
- 文件位置不正确（应该在项目根目录）
- 文件格式错误
- Cursor 未重启

**解决方法**:
1. 确认文件在项目根目录
2. 检查文件格式（Markdown）
3. 重启 Cursor IDE

### 问题 2: 工作流不自动触发

**可能原因**:
- 任务不符合触发条件
- 规则理解有误
- Cursor 版本问题

**解决方法**:
1. 使用明确的复杂任务测试
2. 检查 `.cursorrules` 中的触发条件
3. 更新 Cursor 到最新版本

### 问题 3: 文件创建但内容不正确

**可能原因**:
- 模板理解有误
- 规则执行不完整

**解决方法**:
1. 检查 `.cursorrules` 中的文件结构规范
2. 手动验证模板格式

## 📝 测试记录模板

### 测试记录

**测试日期**: _______________

**测试人员**: _______________

**测试场景**: _______________

**测试步骤**:
1. 
2. 
3. 

**实际结果**:
- 
- 
- 

**预期结果**:
- 
- 
- 

**是否通过**: [ ] 是 [ ] 否

**问题记录**:
- 

**备注**:
- 

## 🎯 快速测试脚本

### 测试任务建议

1. **简单测试**（不应触发）
   ```
   帮我修改 README.md 的第一行
   ```

2. **中等测试**（应该触发）
   ```
   研究 Python 的装饰器模式，写一份总结
   ```

3. **复杂测试**（应该触发）
   ```
   设计并实现一个待办事项管理系统，包括前端和后端
   ```

## 📚 参考资源

- [workflow.md](./workflow.md) - 工作流详细文档
- [.cursorrules](./.cursorrules) - Cursor 规则文件
- [task_plan.md](./task_plan.md) - 项目任务计划（工作流示例）
- [notes.md](./notes.md) - 研究笔记（工作流示例）

---

**创建时间**: 2026-01-07  
**版本**: v1.0
